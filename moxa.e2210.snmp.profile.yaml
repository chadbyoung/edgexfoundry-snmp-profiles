#################################################################################
## Copyright 2017 Dell Inc.
## Chad Young <chad.young@dell.com>
##
## Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
## in compliance with the License. You may obtain a copy of the License at
##
## http://www.apache.org/licenses/LICENSE-2.0
##
## Unless required by applicable law or agreed to in writing, software distributed under the License
## is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
## or implied. See the License for the specific language governing permissions and limitations under
## the License.
##
##################################################################################
name: "Moxa.e2210"
manufacturer: "Moxa"
model: "e2210"
labels: [ 'PLC', 'IOServer', [Micro RTU] ]
description: "Ethernet Micro RTU Controller with 12 digital inputs and 8 digital outputs"
deviceResources:
      -
        name: channelDO00Status
        description: "DO channel 0 status"
        attributes: 
            { oid: "1.3.6.1.4.1.8691.10.2210.10.2.1.4.0" , community: "private" }
        properties: 
            value:
                { type: "Integer", size: "4", readWrite: "R", minimum: "1", maximum: "5", defaultValue: "0"}
            units:
                { type: "String", readWrite: "R", defaultValue: "Enabled/Disabled"}

      -
        name: channelDO01Status
        description: "DO channel 1 status"
        attributes: 
            { oid: "1.3.6.1.4.1.8691.10.2210.10.2.1.4.1" , community: "private" }
        properties: 
            value:
                { type: "Integer", size: "4", readWrite: "R", minimum: "1", maximum: "5", defaultValue: "0"}
            units:
                { type: "String", readWrite: "R", defaultValue: "Enabled/Disabled"}

      -
        name: channelDI00Status
        description: "DI channel 0 status."
        attributes: 
            { oid: "1.3.6.1.4.1.8691.10.2210.10.1.1.4.0" , community: "private" }
        properties: 
            value:
                { type: "Integer", size: "4", readWrite: "R", minimum: "1", maximum: "5", defaultValue: "0"}
            units:
                { type: "String", readWrite: "R", defaultValue: "Enabled/Disabled"}

      -
        name: channelDI01Status
        description: "DI channel 1 status."
        attributes: 
            { oid: "1.3.6.1.4.1.8691.10.2210.10.1.1.4.0" , community: "private" }
        properties: 
            value:
                { type: "Integer", size: "4", readWrite: "R", minimum: "1", maximum: "5", defaultValue: "0"}
            units:
                { type: "String", readWrite: "R", defaultValue: "Enabled/Disabled"}

resources:
  -
    name: channelDO00Status
    get:
      - { operation: "get", object: "RedLightCurrentState", parameter: "RedLightControlState", property: "value" }

    set:
      - { index: "1", operation: "set", object: "RedLightControlState", property: "value", parameter: "RedLightControlState" }
      - { index: "2", operation: "set", object: "RedLightTimer", property: "value", parameter: "0"}

  -
    name: channelD001Status
    get:
      - { operation: "get", object: "GreenLightCurrentState", parameter: "GreenLightControlState", property: "value" }

    set:
      - { index: "1", operation: "set", object: "GreenLightControlState", property: "value", parameter: "GreenLightControlState" }
      - { index: "2", operation: "set", object: "GreenLightTimer", property: "value", parameter: "0"}
  -
    name: channelDI00Status
    get:
      - { operation: "get", object: "AmberLightCurrentState", parameter: "AmberLightControlState", property: "value" }

    set:
      - { index: "1", operation: "set", object: "AmberLightControlState", property: "value", parameter: "AmberLightControlState" }
      - { index: "2", operation: "set", object: "AmberLightTimer", property: "value", parameter: "0"}

  -
    name: channelDI01Status
    get:
      - { operation: "get", object: "BuzzerCurrentState", parameter: "BuzzerControlState", property: "value" }

    set:
      - { index: "1", operation: "set", object: "BuzzerControlState", property: "value", parameter: "BuzzerControlState" }
      - { index: "2", operation: "set", object: "BuzzerTimer", property: "value", parameter: "0"}


commands:
  -
    name: RedLight
    get: 
        path: "/api/v1/device/{deviceId}/RedLight"
        responses: 
          - 
            code: "200"
            description: "Get the red light State."
            expectedValues: ["RedLightControlState"]
          -
            code: "503"
            description: "service unavailable"
            expectedValues: []

  -
    name: GreenLight
    get: 
        path: "/api/v1/device/{deviceId}/GreenLight"
        responses: 
          - 
            code: "200"
            description: "Get the green light State."
            expectedValues: ["GreenLightControlState"]
          -
            code: "503"
            description: "service unavailable"
            expectedValues: []

  -
    name: AmberLight
    get: 
        path: "/api/v1/device/{deviceId}/AmberLight"
        responses: 
          - 
            code: "200"
            description: "Get the green light State."
            expectedValues: ["AmberLightControlState"]
          -
            code: "503"
            description: "service unavailable"
            expectedValues: []

  -
    name: Buzzer
    get: 
        path: "/api/v1/device/{deviceId}/Buzzer"
        responses: 
          - 
            code: "200"
            description: "Get the Buzzer State."
            expectedValues: ["BuzzerControlState"]
          -
            code: "503"
            description: "service unavailable"
            expectedValues: []
